(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[5],{676:function(t,e,a){"use strict";a.r(e);var n=a(8),s=a.n(n),o=a(18),r=a(27),c=a(28),i=a(32),u=a(31),p=a(0),d=a.n(p),l=a(74),h=a(379),f=a(624),v=a(9),j=a.n(v),g=a(33),y=a.n(g),b=a(21),m=a(1),k=[{title:"Date",dataIndex:"date",key:"date"},{title:"Corporate",dataIndex:"corporate",key:"corporate"},{title:"Response",dataIndex:"response",key:"response"}],w=function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={data:[]},t.load_invitations=function(){var e={"Content-Type":"application/json",Authorization:"Bearer "+j.a.get("68e78905f4c")};y.a.get("".concat(b.a(b.b),"corporate/employee/invitations"),{headers:e}).then(function(){var e=Object(o.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),a.data.success&&t.setState({data:a.data.body});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(o.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({loading:!1}),t.setState({showMessage:1}),setTimeout((function(){t.setState({showMessage:0})}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},t.sendResponse=function(e){""!=j.a.get("68e78905f4c")&&null!=j.a.get("68e78905f4c")&&void 0!=j.a.get("68e78905f4c")||t.props.history.push("/auth/login");var a={"Content-Type":"application/json",Authorization:"Bearer "+j.a.get("68e78905f4c")},n={invitationId:e.id,invitationStatus:e.status};y.a.post("".concat(b.a(b.b),"corporate/employee/approve"),n,{headers:a}).then(function(){var e=Object(o.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),a.data.success&&(t.setState({data:a.data.body}),t.load_invitations());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(o.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({loading:!1}),t.setState({showMessage:1}),setTimeout((function(){t.setState({showMessage:0})}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){""!=j.a.get("68e78905f4c")&&null!=j.a.get("68e78905f4c")&&void 0!=j.a.get("68e78905f4c")||this.props.history.push("/auth/login"),this.load_invitations()}},{key:"render",value:function(){var t=this,e=[];return null!=this.state.data&void 0!=this.state.data&""!=this.state.data&&this.state.data.map((function(a,n){var s=a.invitationDate.split("T"),o=s[1].split("."),r={key:n,date:"".concat(s[0]," ").concat(o[0]),corporate:a.corporate.name,response:"PENDING"==a.status?Object(m.jsxs)("div",{children:[Object(m.jsx)(l.a,{type:"primary",onClick:function(){return t.sendResponse({id:a.id,status:"ACCEPTED"})},children:"Accept"}),Object(m.jsx)(l.a,{type:"danger",onClick:function(){return t.sendResponse({id:a.id,status:"REJECT"})},children:"Reject"})]}):"ACCEPTED"==a.status?Object(m.jsx)(h.a,{color:"geekblue",children:"Accepted"}):Object(m.jsx)(h.a,{color:"orange",children:"Rejected"})};e.push(r)})),Object(m.jsx)("div",{children:Object(m.jsx)(f.a,{dataSource:e,columns:k})})}}]),a}(d.a.Component);e.default=w}}]);
//# sourceMappingURL=5.82c51b53.chunk.js.map