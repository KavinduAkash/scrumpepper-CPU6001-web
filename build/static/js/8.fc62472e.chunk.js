(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[8],{680:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(15),o=a(27),c=a(28),i=a(32),l=a(31),d=a(8),u=a.n(d),p=a(18),h=a(34),j=(a(2),a(3)),m=a(5),g=a.n(m),b=(a(88),a(681)),f=a(627),O=a(369),x=a(74),v=a(643),w=a(684),y=a(1),k=a(4),C=a(16),B=a(162),I=a(108),M=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],N=n.forwardRef((function(e,t){var a=e.className,s=e.component,r=e.viewBox,o=e.spin,c=e.rotate,i=e.tabIndex,l=e.onClick,d=e.children,u=Object(C.a)(e,M);Object(I.g)(Boolean(s||d),"Should have `component` prop or `children`."),Object(I.f)();var p=n.useContext(B.a).prefixCls,h=void 0===p?"anticon":p,m=g()(h,a),b=g()(Object(j.a)({},"".concat(h,"-spin"),!!o)),f=c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0,O=Object(k.a)(Object(k.a)({},I.e),{},{className:b,style:f,viewBox:r});r||delete O.viewBox;var x=i;return void 0===x&&l&&(x=-1),n.createElement("span",Object(k.a)(Object(k.a)({role:"img"},u),{},{ref:t,tabIndex:x,onClick:l,className:m}),s?n.createElement(s,Object(k.a)({},O),d):d?(Object(I.g)(Boolean(r)||1===n.Children.count(d)&&n.isValidElement(d)&&"use"===n.Children.only(d).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),n.createElement("svg",Object(k.a)(Object(k.a)({},O),{},{viewBox:r}),d)):null)}));N.displayName="AntdIcon";var S=a(90),P=a(283),A=a(671),U=a(33),E=a.n(U),L=a(9),F=a.n(L),T=a(70),z=a(21),R=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",showMessage:0,message:"Invalid Credentials! Please enter correct credentials and try again",loading:!1},e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onLogin=function(t){e.setState({loading:!0});var a={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic VVNFUjo="},n=new FormData;n.append("grant_type","password"),n.append("username",e.state.username),n.append("password",e.state.password),E.a.post("".concat(z.a(z.b),"authorize"),n,{headers:a}).then(function(){var t=Object(p.a)(u.a.mark((function t(a){var n,s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.data.user,e.props.storeUser(n),s=a.data.access_token,r=a.data.refresh_token,F.a.set("68e78905f4c",s),F.a.set("68e75190f4c",r),e.setState({loading:!1}),e.props.history.push("/app/project");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!1}),e.setState({showMessage:1}),setTimeout((function(){e.setState({showMessage:0})}),2e3),e.props.showAuthMessage(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.onGoogleLogin=function(){Object(S.d)()},e.onFacebookLogin=function(){Object(S.d)()},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(A.a.div,{style:{display:"".concat(this.state.showMessage?"block":"none")},initial:{opacity:0,marginBottom:0},animate:{opacity:this.state.showMessage?1:0,marginBottom:this.state.showMessage?20:0},children:Object(y.jsx)(b.a,{type:"error",showIcon:!0,message:this.state.message})}),Object(y.jsxs)(f.a,{layout:"vertical",name:"login-form",children:[Object(y.jsx)(f.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(y.jsx)(O.a,{prefix:Object(y.jsx)(v.a,{className:"text-primary"}),onChange:this.onChangeUsername})}),Object(y.jsx)(f.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password"}],children:Object(y.jsx)(O.a.Password,{prefix:Object(y.jsx)(w.a,{className:"text-primary"}),onChange:this.onChangePassword})}),Object(y.jsx)(f.a.Item,{children:Object(y.jsx)(x.a,{type:"primary",htmlType:"submit",block:!0,loading:this.state.loading,onClick:this.onLogin,children:"Sign In"})})]})]})}}]),a}(s.a.Component);R.defaultProps={otherSignIn:!0,showForgetPassword:!1};var V={showAuthMessage:S.c,showLoading:S.d,hideAuthMessage:S.b,authenticated:S.a,storeUser:function(e){return{type:P.b,value:e}}},_=Object(h.b)((function(e){var t=e.auth;return{loading:t.loading,message:t.message,showMessage:t.showMessage,token:t.token,redirect:t.redirect}}),V)(Object(T.h)(R)),q=a(185),D=a(116),J=a(635),G=(a(216),{backgroundImage:"url(/img/others/img-17.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"}),H=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.login=function(){},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"h-100",style:G,children:Object(y.jsx)("div",{className:"container d-flex flex-column justify-content-center h-100",children:Object(y.jsx)(q.a,{justify:"center",children:Object(y.jsx)(D.a,{xs:20,sm:20,md:20,lg:7,children:Object(y.jsx)(J.a,{children:Object(y.jsxs)("div",{className:"my-4",children:[Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)("img",{src:"/img/sp-logo1.png",alt:"scrumpepper-logo",style:{marginBottom:"40px"}}),Object(y.jsxs)("p",{children:["Don't have an account yet? ",Object(y.jsx)("a",{href:"/auth/register",children:"Sign Up"})]})]}),Object(y.jsx)(q.a,{justify:"center",children:Object(y.jsx)(D.a,{xs:24,sm:24,md:20,lg:20,children:Object(y.jsx)(_,Object(r.a)({},this.props))})})]})})})})})})}}]),a}(s.a.Component);t.default=function(){return Object(y.jsx)(H,{allowRedirect:!0})}}}]);
//# sourceMappingURL=8.fc62472e.chunk.js.map